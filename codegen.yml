overwrite: true

schema:
  - "packages/graphql-server/src/schemas/**/*.graphql"

generates:
  packages/graphql-server/src/__generated__/schema-types.ts:
    plugins:
      - typescript
    config:
      enumsAsTypes: true
      useIndexSignature: true
      useTypeImports: true

  packages/graphql-server/src/__generated__/resolver-types.ts:
    plugins:
      - add:
          content: "import type * as Types from './schema-types';"
      - typescript-resolvers
    config:
      contextType: "../context#ArchivistGraphQLContext"
      namespacedImportName: Types
      useTypeImports: true
      mappers:
        Campaign: "@repo/db#Campaign"
        User: "@repo/db#User"
      resolverTypeWrapperSignature: "Promise<T> | T | import('@repo/db').PrismaPromise<T>"
